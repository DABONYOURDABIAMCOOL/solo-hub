<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>XP TRACKER</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #0b0c10;
      color: white;
      overflow-x: hidden;
    }
    #overlay {
      position: fixed;
      width: 100%;
      height: 100%;
      background: black;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 4rem;
      color: lime;
      z-index: 999;
      animation: fadeOut 2.5s ease 2s forwards;
    }
    @keyframes fadeOut {
      to {
        opacity: 0;
        visibility: hidden;
      }
    }
    .container {
      display: flex;
      justify-content: space-between;
      padding: 30px;
      min-height: 100vh;
    }
    .left-panel, .right-panel {
      width: 25%;
      background: #1f2833;
      padding: 20px;
      border-radius: 10px;
    }
    .middle-panel {
      width: 45%;
      text-align: center;
    }
    .title {
      font-size: 3.5rem;
      color: cyan;
      margin-bottom: 20px;
    }
    .rank-box {
      background: gold;
      color: black;
      padding: 10px 20px;
      font-size: 1.3rem;
      border-radius: 10px;
      display: inline-block;
      font-weight: bold;
      cursor: text;
    }
    .xp-bar-container {
      background: #1f2833;
      border-radius: 10px;
      width: 90%;
      height: 30px;
      margin: 20px auto;
      overflow: hidden;
    }
    .xp-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(to right, lime, cyan);
      transition: width 1s ease-in-out;
    }
    .stat {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #45a29e;
      color: #0b0c10;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 8px;
      font-weight: bold;
    }
    .stat button {
      background: #0b0c10;
      color: white;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 1rem;
      border-radius: 5px;
    }
    .todo-item {
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #66fcf1;
      padding: 10px;
      border-radius: 6px;
      color: #0b0c10;
      font-weight: bold;
    }
    .todo-item input[type="text"], .todo-item input[type="number"] {
      background: transparent;
      border: none;
      font-weight: bold;
      color: #0b0c10;
      width: auto;
    }
    .todo-item input[type="number"] {
      width: 50px;
      text-align: center;
    }
    input[type="checkbox"] {
      transform: scale(1.3);
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <div id="overlay">LOCK IN</div>

  <div class="container">
    <div class="left-panel" id="stat-panel"></div>

    <div class="middle-panel">
      <div class="title">XP TRACKER</div>
      <div class="rank-box" contenteditable="true" id="rankBox">Rank: #478</div>
      <div class="xp-bar-container">
        <div class="xp-bar" id="xpBar"></div>
      </div>
    </div>

    <div class="right-panel" id="todoPanel"></div>
  </div>

  <script>
    let stats = {
      "Focus": 1,
      "Discipline": 1,
      "Strategy": 1,
      "Confidence": 1,
      "Drive": 1,
      "Creativity": 1
    };

    let XP = 0;
    let tasks = [
      { name: "Solve Mock Test", xp: 20, done: false },
      { name: "Revise Physics", xp: 15, done: false },
      { name: "Daily Planning", xp: 10, done: false }
    ];

    function updateXPBar() {
      let percent = XP % 100;
      document.getElementById("xpBar").style.width = percent + "%";
    }

    function renderStats() {
      const panel = document.getElementById("stat-panel");
      panel.innerHTML = '';
      for (let key in stats) {
        panel.innerHTML += `
          <div class="stat">
            ${key}
            <button onclick="changeStat('${key}', -1)">-</button>
            ${stats[key]}
            <button onclick="changeStat('${key}', 1)">+</button>
          </div>
        `;
      }
    }

    function changeStat(key, delta) {
      stats[key] += delta;
      if (stats[key] < 1) stats[key] = 1;
      renderStats();
    }

    function renderTasks() {
      const panel = document.getElementById("todoPanel");
      panel.innerHTML = '<h3 style="margin-bottom:15px;">To-Do List</h3>';
      tasks.forEach((task, index) => {
        panel.innerHTML += `
          <div class="todo-item">
            <span>
              <input type="checkbox" onchange="checkTask(${index}, this)" ${task.done ? 'checked' : ''}>
              <input type="text" value="${task.name}" onchange="editTaskName(${index}, this)">
            </span>
            <span>
              +<input type="number" value="${task.xp}" onchange="editTaskXP(${index}, this)"> XP
            </span>
          </div>
        `;
      });
    }

    function checkTask(index, el) {
      if (el.checked) {
        XP += tasks[index].xp;
        tasks[index].done = true;
      } else {
        XP -= tasks[index].xp;
        tasks[index].done = false;
      }
      updateXPBar();
    }

    function editTaskName(index, el) {
      tasks[index].name = el.value;
    }

    function editTaskXP(index, el) {
      let oldXP = tasks[index].xp;
      tasks[index].xp = parseInt(el.value) || 0;
      if (tasks[index].done) {
        XP += tasks[index].xp - oldXP;
        updateXPBar();
      }
    }

    renderStats();
    renderTasks();
    updateXPBar();
  </script>
</body>
</html>
